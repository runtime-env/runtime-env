import { Options } from "../types";
import { resolveEnvExampleKeys } from "../../../shared/resolve-env-example-keys";

const createDeclaration = (options: Options) => {
  const envExampleKeys = resolveEnvExampleKeys({
    envExampleFilePath: options.example,
  });
  return [
    "// Generated by '@import-meta-env/flow'",
    "",
    "declare type Import$Meta = {",
    "  +env: $ReadOnly<{",
    ...envExampleKeys.map((key) => `    ${key}: string,`),
    "  }>,",
    "};",
    "",
  ].join("\n");
};

export default createDeclaration;
